(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();class c{constructor(e){this.$el=e,this.button=e.querySelector(".notice__button"),this.setListeners()}setListeners(){this.button.addEventListener("click",()=>{this.$el.classList.remove("notice--on")})}}const a=(o,e,r={},i=document.querySelectorAll(o))=>{i.forEach(t=>{new e(t,r)})};class l{constructor(e){this.$el=e,this.submit=e.querySelector(".form__submit"),this.notices=document.querySelectorAll(".notice"),a(".notice",c,{},this.notices),this.setListeners()}setListeners(){this.submit.addEventListener("click",()=>{this.$el.checkValidity()&&this.notices[Math.floor(Math.random()*2)].classList.add("notice--on")})}}class d{constructor(e){this.$el=e,this.toggler=e.querySelector(".header__toggler"),this.menu=e.querySelector(".header__nav-list"),this.isOpened=!1,this.negMargin=`-${this.menu.clientHeight}px`,this.setMargin(this.negMargin),this.toggler.classList.remove("hidden"),this.menu.classList.add("header__nav-list--closed"),setTimeout(()=>{this.$el.classList.add("header--js")},33),this.toggler.addEventListener("click",()=>{this.toggleHandler()}),window.addEventListener("resize",()=>{this.setMargin(this.isOpened?0:this.negMargin)})}toggleHandler(){this.isOpened?(this.toggler.classList.remove("header__toggler--closer"),this.toggler.classList.add("header__toggler--opener"),this.menu.classList.add("header__nav-list--closed"),this.setMargin(this.negMargin)):(this.toggler.classList.add("header__toggler--closer"),this.toggler.classList.remove("header__toggler--opener"),this.menu.classList.remove("header__nav-list--closed"),this.setMargin(0)),this.isOpened=!this.isOpened}setMargin(e){this.$el.style.marginTop=window.innerWidth<768?e:0}}class h{constructor(e,r){if(this.element=e,this.poster=e.querySelector(".yandex-map__poster"),this.data=r,this.placemark=this.data.placemark||{},this.template='<div class="yandex-map__placemark"></div>',window.ymaps)this.init();else{const i=document.createElement("script");i.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",i.addEventListener("load",()=>{window.ymaps&&this.init()}),document.body.append(i)}}init(){window.ymaps.ready(()=>{const e=new window.ymaps.Map(this.element.id,this.data);this.placemark.iconImage||(this.placemark.iconLayout=window.ymaps.templateLayoutFactory.createClass(this.template));const r=[this.placemark.coords||e.getCenter(),this.placemark.properties||null,this.placemark];e.geoObjects.add(new window.ymaps.Placemark(...r)),e.behaviors.disable("scrollZoom"),this.poster&&this.poster.classList.add("hidden")})}}a(".header",d);window.DATA.page==="index"?a(".yandex-map",h,window.DATA.yandexMap):window.DATA.page==="form"&&a(".form",l);
